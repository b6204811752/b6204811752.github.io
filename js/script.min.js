const debounce = (func, wait) => { let timeout; return function executedFunction(...args) { const later = () => { clearTimeout(timeout); func(...args); }; clearTimeout(timeout); timeout = setTimeout(later, wait); }; }; const throttle = (func, limit) => { let inThrottle; return function(...args) { if (!inThrottle) { func.apply(this, args); inThrottle = true; setTimeout(() => inThrottle = false, limit); } }; }; const navToggle = document.getElementById('navToggle'); const navMenu = document.getElementById('navMenu'); const navLinks = document.querySelectorAll('.nav-link'); const header = document.getElementById('header'); if (navToggle) { navToggle.addEventListener('click', () => { const isActive = navMenu.classList.toggle('active'); navToggle.classList.toggle('active'); navToggle.setAttribute('aria-expanded', isActive); if (isActive) { document.body.style.overflow = 'hidden'; } else { document.body.style.overflow = ''; } }); navToggle.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); navToggle.click(); } }); } document.addEventListener('click', (e) => { if (navMenu && navToggle) { if (!navMenu.contains(e.target) && !navToggle.contains(e.target)) { navMenu.classList.remove('active'); navToggle.classList.remove('active'); navToggle.setAttribute('aria-expanded', 'false'); document.body.style.overflow = ''; } } }); navLinks.forEach(link => { link.addEventListener('click', () => { navMenu.classList.remove('active'); navToggle.classList.remove('active'); navToggle.setAttribute('aria-expanded', 'false'); document.body.style.overflow = ''; navLinks.forEach(l => l.classList.remove('active')); link.classList.add('active'); }); }); const handleScroll = throttle(() => { if (window.scrollY > 100) { header.classList.add('scrolled'); } else { header.classList.remove('scrolled'); } }, 100); window.addEventListener('scroll', handleScroll, { passive: true }); document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { const href = this.getAttribute('href'); if (href !== '#' && document.querySelector(href)) { e.preventDefault(); const target = document.querySelector(href); const headerOffset = 80; const elementPosition = target.getBoundingClientRect().top; const offsetPosition = elementPosition + window.pageYOffset - headerOffset; window.scrollTo({ top: offsetPosition, behavior: 'smooth' }); } }); }); const tripTypeSelect = document.getElementById('tripType'); const returnDateGroup = document.getElementById('returnDateGroup'); const returnDateInput = document.getElementById('returnDate'); const dropLocationInput = document.getElementById('dropLocation'); const dropLocationGroup = dropLocationInput ? dropLocationInput.closest('.form-group') : null; if (tripTypeSelect) { tripTypeSelect.addEventListener('change', function() { const selectedType = this.value; if (selectedType === 'roundtrip') { if (returnDateGroup) { returnDateGroup.style.display = 'block'; returnDateInput.required = true; } if (dropLocationGroup) { dropLocationGroup.style.display = 'block'; dropLocationInput.required = true; } } else if (selectedType === 'local') { if (returnDateGroup) { returnDateGroup.style.display = 'none'; returnDateInput.required = false; } if (dropLocationGroup) { dropLocationGroup.style.display = 'none'; dropLocationInput.required = false; } if (dropLocationInput) { dropLocationInput.placeholder = 'Local area (within city)'; } } else { if (returnDateGroup) { returnDateGroup.style.display = 'none'; returnDateInput.required = false; } if (dropLocationGroup) { dropLocationGroup.style.display = 'block'; dropLocationInput.required = true; } if (dropLocationInput) { dropLocationInput.placeholder = 'Enter drop location'; } } console.log('Trip type selected:', selectedType); }); } document.addEventListener('DOMContentLoaded', function() { console.log('ðŸ”§ Booking form script initializing...'); const bookingForm = document.getElementById('bookingForm'); console.log('ðŸ“‹ Booking form found:', bookingForm ? 'YES' : 'NO'); if (bookingForm) { console.log('âœ… Booking form handler attached'); let hiddenIframe = document.getElementById('hidden_iframe'); if (!hiddenIframe) { hiddenIframe = document.createElement('iframe'); hiddenIframe.name = 'hidden_iframe'; hiddenIframe.id = 'hidden_iframe'; hiddenIframe.style.display = 'none'; document.body.appendChild(hiddenIframe); console.log('ðŸ“¦ Hidden iframe created'); } let submissionTimeout = null; let isSubmitting = false; bookingForm.addEventListener('submit', (e) => { console.log('ðŸš€ Form submit event triggered'); e.preventDefault(); e.stopPropagation(); if (isSubmitting) { console.log('âš ï¸ Already submitting, ignoring...'); return false; } const tripType = document.getElementById('tripType').value; const pickupLocation = document.getElementById('pickupLocation').value; const dropLocation = document.getElementById('dropLocation').value; const pickupDate = document.getElementById('pickupDate').value; const pickupTime = document.getElementById('pickupTime').value; const carType = document.getElementById('carType').value; const mobileNumber = document.getElementById('mobileNumber').value; const returnDate = document.getElementById('returnDate') ? document.getElementById('returnDate').value : ''; const tripTypeText = document.getElementById('tripType').options[document.getElementById('tripType').selectedIndex].text; const carTypeText = document.getElementById('carType').options[document.getElementById('carType').selectedIndex].text; if (!mobileNumber.match(/^[0-9]{10}$/)) { alert('âŒ Please enter a valid 10-digit mobile number'); return; } if (!tripType || !pickupLocation || !pickupDate || !pickupTime || !carType) { alert('âŒ Please fill all required fields'); return; } const tripTypeMapping = { 'oneway': 'One Way Trip', 'roundtrip': 'Round Trip', 'local': 'Local Rental(hours)', 'airport': 'Airport Transfer' }; const carTypeMapping = { 'sedan': 'Sedan', 'ertiga': 'MUV', 'innova': 'SUV', 'luxury': 'Luxury' }; const submitButton = bookingForm.querySelector('button[type="submit"]'); const originalButtonText = submitButton.innerHTML; submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...'; submitButton.disabled = true; isSubmitting = true; const googleFormURL = 'https: const tempForm = document.createElement('form'); tempForm.action = googleFormURL; tempForm.method = 'POST'; tempForm.target = 'hidden_iframe'; tempForm.style.display = 'none'; const fields = [ { name: 'entry.219265158', value: tripTypeMapping[tripType] || tripTypeText }, { name: 'entry.1594636824', value: pickupDate }, { name: 'entry.1069431231', value: pickupLocation }, { name: 'entry.1297259824', value: dropLocation }, { name: 'entry.2064504236', value: pickupTime }, { name: 'entry.1057979598', value: mobileNumber }, { name: 'entry.681528332', value: carTypeMapping[carType] || carType } ]; const input = document.createElement('input'); input.type = 'hidden'; input.name = field.name; input.value = field.value; tempForm.appendChild(input); }); document.body.appendChild(tempForm); hiddenIframe.onload = function() { if (isSubmitting) { clearTimeout(submissionTimeout); alert('âœ… SUCCESS!\n\nYour booking has been submitted successfully!\nWe will contact you soon on: ' + mobileNumber); submitButton.innerHTML = '<i class="fas fa-check-circle"></i> Booking Submitted!'; submitButton.style.backgroundColor = '#28a745'; const successMessage = document.getElementById('bookingSuccessMessage'); if (successMessage) { successMessage.style.display = 'block'; successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); } let message = `ðŸš– NEW BOOKING\n\n`; message += `Trip: ${tripTypeText}\n`; message += `From: ${pickupLocation}\n`; if (tripType !== 'local') { message += `To: ${dropLocation}\n`; } message += `Date: ${pickupDate} at ${pickupTime}\n`; if (tripType === 'roundtrip' && returnDate) { message += `Return: ${returnDate}\n`; } message += `Vehicle: ${carTypeText}\n`; message += `Mobile: ${mobileNumber}\n\n`; message += `Please confirm availability.`; setTimeout(() => { const sendWhatsApp = confirm('Would you like to send a confirmation message via WhatsApp?\n\n(This will help us process your booking faster)'); if (sendWhatsApp) { const phoneNumber = '917488341848'; const whatsappUrl = `https: window.open(whatsappUrl, '_blank'); } setTimeout(() => { bookingForm.reset(); submitButton.innerHTML = originalButtonText; submitButton.style.backgroundColor = ''; submitButton.disabled = false; isSubmitting = false; if (successMessage) { successMessage.style.display = 'none'; } if (tempForm.parentNode) { tempForm.parentNode.removeChild(tempForm); } }, 2000); }, 1000); } }; submissionTimeout = setTimeout(() => { if (isSubmitting) { alert('âŒ SUBMISSION FAILED!\n\nThere was a problem submitting your booking.\n\nPlease try again or contact us directly via WhatsApp.'); submitButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Failed - Try Again'; submitButton.style.backgroundColor = '#dc3545'; setTimeout(() => { submitButton.innerHTML = originalButtonText; submitButton.style.backgroundColor = ''; submitButton.disabled = false; isSubmitting = false; if (tempForm.parentNode) { tempForm.parentNode.removeChild(tempForm); } }, 3000); } }, 10000); console.log('Submitting form to Google...'); try { tempForm.submit(); console.log('Form submitted! Waiting for response...'); } catch (error) { console.error('Form submission error:', error); clearTimeout(submissionTimeout); alert('âŒ SUBMISSION ERROR!\n\nThere was a problem submitting your booking.\n\nPlease try again or contact us directly via WhatsApp.'); submitButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Error - Try Again'; submitButton.style.backgroundColor = '#dc3545'; setTimeout(() => { submitButton.innerHTML = originalButtonText; submitButton.style.backgroundColor = ''; submitButton.disabled = false; isSubmitting = false; if (tempForm.parentNode) { tempForm.parentNode.removeChild(tempForm); } }, 3000); } return false; }); } else { console.error('âŒ Booking form not found!'); } }); const contactForm = document.getElementById('contactForm'); if (contactForm) { contactForm.addEventListener('submit', (e) => { e.preventDefault(); const formData = new FormData(contactForm); const name = formData.get('name'); const phone = formData.get('phone'); const email = formData.get('email'); const service = formData.get('service'); const message = formData.get('message'); alert('Thank you for contacting us! We will get back to you soon.'); const phoneNumber = '917488341848'; const whatsappMessage = `Name: ${name}\nPhone: ${phone}\nEmail: ${email}\nService: ${service}\nMessage: ${message}`; const whatsappUrl = `https: contactForm.reset(); }); } const counters = document.querySelectorAll('.stat-number'); const speed = 200; const animateCounters = () => { counters.forEach(counter => { const target = +counter.getAttribute('data-target'); const count = +counter.innerText; const increment = target / speed; if (count < target) { counter.innerText = Math.ceil(count + increment); setTimeout(() => animateCounters(), 1); } else { counter.innerText = target.toLocaleString(); } }); }; const observerOptions = { threshold: 0.5, rootMargin: '0px' }; const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { animateCounters(); observer.unobserve(entry.target); } }); }, observerOptions); const statsSection = document.querySelector('.stats-section'); if (statsSection) { observer.observe(statsSection); } const faqItems = document.querySelectorAll('.faq-item'); faqItems.forEach(item => { const question = item.querySelector('.faq-question'); question.addEventListener('click', () => { faqItems.forEach(otherItem => { if (otherItem !== item) { otherItem.classList.remove('active'); } }); item.classList.toggle('active'); }); }); const scrollTopBtn = document.getElementById('scrollTop'); if (scrollTopBtn) { console.log('Scroll button found and initialized'); const handleScrollTop = throttle(() => { if (window.pageYOffset > 300) { scrollTopBtn.classList.add('show'); } else { scrollTopBtn.classList.remove('show'); } }, 100); window.addEventListener('scroll', handleScrollTop, { passive: true }); handleScrollTop(); scrollTopBtn.addEventListener('click', (e) => { e.preventDefault(); console.log('Scroll button clicked!'); window.scrollTo({ top: 0, behavior: 'smooth' }); }, false); scrollTopBtn.addEventListener('click', function(e) { if (!('scrollBehavior' in document.documentElement.style)) { e.preventDefault(); window.scroll(0, 0); } }, false); } else { console.error('Scroll button not found!'); } const lazyLoadImages = () => { const images = document.querySelectorAll('img[loading=\"lazy\"]'); if ('loading' in HTMLImageElement.prototype) { images.forEach(img => { if (img.dataset.src) { img.src = img.dataset.src; } }); } else { const imageObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const img = entry.target; if (img.dataset.src) { img.src = img.dataset.src; img.removeAttribute('data-src'); } observer.unobserve(img); } }); }, { rootMargin: '50px 0px', threshold: 0.01 }); images.forEach(img => { if (img.dataset.src) { imageObserver.observe(img); } }); } }; if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', lazyLoadImages); } else { lazyLoadImages(); } const updateYear = () => { const yearElements = document.querySelectorAll('.current-year'); const currentYear = new Date().getFullYear(); yearElements.forEach(element => { element.textContent = currentYear; }); }; updateYear(); const validatePhone = (phone) => { const phoneRegex = /^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/; return phoneRegex.test(phone); }; const validateEmail = (email) => { const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; return emailRegex.test(email); }; const phoneInputs = document.querySelectorAll('input[type="tel"]'); phoneInputs.forEach(input => { input.addEventListener('blur', function() { if (this.value && !validatePhone(this.value)) { this.style.borderColor = 'var(--danger-color)'; this.setCustomValidity('Please enter a valid phone number'); } else { this.style.borderColor = 'var(--success-color)'; this.setCustomValidity(''); } }); input.addEventListener('input', function() { this.style.borderColor = '#e0e0e0'; }); }); const emailInputs = document.querySelectorAll('input[type="email"]'); emailInputs.forEach(input => { input.addEventListener('blur', function() { if (this.value && !validateEmail(this.value)) { this.style.borderColor = 'var(--danger-color)'; this.setCustomValidity('Please enter a valid email address'); } else { this.style.borderColor = 'var(--success-color)'; this.setCustomValidity(''); } }); input.addEventListener('input', function() { this.style.borderColor = '#e0e0e0'; }); }); const dateInputs = document.querySelectorAll('input[type="date"]'); dateInputs.forEach(input => { if (!input.value) { const today = new Date(); const dd = String(today.getDate()).padStart(2, '0'); const mm = String(today.getMonth() + 1).padStart(2, '0'); const yyyy = today.getFullYear(); input.value = `${yyyy}-${mm}-${dd}`; input.min = `${yyyy}-${mm}-${dd}`; } }); const callButtons = document.querySelectorAll('a[href^="tel:"]'); callButtons.forEach(button => { button.addEventListener('click', () => { console.log('Call button clicked:', button.getAttribute('href')); }); }); const whatsappButtons = document.querySelectorAll('a[href*="wa.me"]'); whatsappButtons.forEach(button => { button.addEventListener('click', () => { console.log('WhatsApp button clicked'); }); }); let currentTestimonial = 0; const testimonials = document.querySelectorAll('.testimonial-card'); const rotateTestimonials = () => { if (testimonials.length > 0) { testimonials.forEach(card => { card.style.display = 'none'; }); testimonials[currentTestimonial].style.display = 'block'; currentTestimonial = (currentTestimonial + 1) % testimonials.length; } }; window.addEventListener('load', () => { document.body.classList.add('loaded'); const animateOnScroll = () => { const elements = document.querySelectorAll('.service-card, .fleet-card, .why-card, .testimonial-card'); elements.forEach(element => { const elementTop = element.getBoundingClientRect().top; const elementBottom = element.getBoundingClientRect().bottom; if (elementTop < window.innerHeight && elementBottom > 0) { element.style.opacity = '1'; element.style.transform = 'translateY(0)'; } }); }; animateOnScroll(); window.addEventListener('scroll', animateOnScroll); }); const calculatePrice = (distance, carType) => { const rates = { 'hatchback': 9, 'sedan': 10, 'suv': 12, 'innova': 15 }; const baseRate = rates[carType] || 10; const price = distance * baseRate; const driverAllowance = distance > 250 ? 300 : 0; return { basePrice: price, driverAllowance: driverAllowance, totalPrice: price + driverAllowance }; }; const saveCustomerInfo = (data) => { localStorage.setItem('customerInfo', JSON.stringify(data)); }; const loadCustomerInfo = () => { const saved = localStorage.getItem('customerInfo'); return saved ? JSON.parse(saved) : null; }; const autoFillForms = () => { const savedInfo = loadCustomerInfo(); if (savedInfo) { const nameInputs = document.querySelectorAll('input[type="text"][placeholder*="Name"]'); const phoneInputs = document.querySelectorAll('input[type="tel"]'); const emailInputs = document.querySelectorAll('input[type="email"]'); nameInputs.forEach(input => { if (!input.value && savedInfo.name) { input.value = savedInfo.name; } }); phoneInputs.forEach(input => { if (!input.value && savedInfo.phone) { input.value = savedInfo.phone; } }); emailInputs.forEach(input => { if (!input.value && savedInfo.email) { input.value = savedInfo.email; } }); } }; setTimeout(autoFillForms, 500); const calcBtn = document.getElementById('calcBtn'); const fareResult = document.getElementById('fareResult'); const fareAmount = document.getElementById('fareAmount'); const fareDetails = document.getElementById('fareDetails'); if (calcBtn) { calcBtn.addEventListener('click', function() { const kmInput = document.getElementById('calcKm'); const carRate = document.getElementById('calcCar').value; if (!kmInput || !kmInput.value) { alert('âš ï¸ Please enter distance in kilometers'); kmInput.focus(); return; } const km = parseFloat(kmInput.value); if (km <= 0) { alert('âš ï¸ Please enter a valid distance (greater than 0 km)'); kmInput.focus(); return; } if (km > 1000) { alert('âš ï¸ Maximum distance is 1000 km. For longer trips, please contact us directly.'); kmInput.focus(); return; } const rate = parseFloat(carRate); const totalFare = km * rate; const carSelect = document.getElementById('calcCar'); const carName = carSelect.options[carSelect.selectedIndex].text; fareAmount.textContent = `â‚¹${Math.round(totalFare).toLocaleString()}`; if (fareDetails) { fareDetails.innerHTML = ` <strong>Calculation:</strong> ${km} km Ã— â‚¹${rate}/km = â‚¹${Math.round(totalFare).toLocaleString()}<br> <strong>Vehicle:</strong> ${carName} `; } fareResult.style.display = 'block'; fareResult.scrollIntoView({ behavior: 'smooth', block: 'nearest' }); console.log(`Fare Calculated: ${km} km Ã— â‚¹${rate}/km = â‚¹${Math.round(totalFare)}`); }); const kmInput = document.getElementById('calcKm'); if (kmInput) { kmInput.addEventListener('keypress', function(e) { if (e.key === 'Enter') { calcBtn.click(); } }); } } const liveBookings = document.getElementById('liveBookings'); if (liveBookings) { function updateBookingCount() { const min = 18; const max = 35; const randomCount = Math.floor(Math.random() * (max - min + 1)) + min; liveBookings.style.opacity = '0'; setTimeout(() => { liveBookings.textContent = randomCount; liveBookings.style.opacity = '1'; }, 300); } setInterval(updateBookingCount, 30000); } document.addEventListener('keydown', (e) => { if (e.key === 'c' && !e.ctrlKey && !e.metaKey) { const callButton = document.querySelector('a[href^="tel:"]'); if (callButton && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA') { e.preventDefault(); callButton.click(); } } if (e.key === 'w' && !e.ctrlKey && !e.metaKey) { const whatsappButton = document.querySelector('.whatsapp-float'); if (whatsappButton && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA') { e.preventDefault(); whatsappButton.click(); } } }); const printPage = () => { window.print(); }; const shareWebsite = async () => { if (navigator.share) { try { await navigator.share({ title: 'Car Rental Ranchi', text: 'Best taxi service in Ranchi - Affordable car rentals for local and outstation trips', url: window.location.href }); } catch (err) { console.log('Error sharing:', err); } } else { navigator.clipboard.writeText(window.location.href); alert('Link copied to clipboard!'); } }; window.addEventListener('load', () => { const loadTime = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart; console.log('Page loaded in:', loadTime, 'ms'); }); window.addEventListener('online', () => { console.log('Back online'); }); window.addEventListener('offline', () => { console.log('Connection lost'); alert('You are currently offline. Some features may not work properly.'); }); console.log('%cðŸš— Car Rental Ranchi', 'font-size: 20px; font-weight: bold; color: #ff6b35;'); console.log('%cWelcome to our website! Need a taxi? Call us at +917488341848', 'font-size: 14px; color: #004e89;'); document.addEventListener('DOMContentLoaded', () => { console.log('Website initialized successfully!'); }); function updateScrollProgress() { const scrollProgress = document.querySelector('.scroll-progress'); if (!scrollProgress) { const progressBar = document.createElement('div'); progressBar.className = 'scroll-progress'; document.body.appendChild(progressBar); } const winScroll = document.documentElement.scrollTop || document.body.scrollTop; const height = document.documentElement.scrollHeight - document.documentElement.clientHeight; const scrolled = (winScroll / height) * 100; const progressBar = document.querySelector('.scroll-progress'); if (progressBar) { progressBar.style.width = scrolled + '%'; } } window.addEventListener('scroll', updateScrollProgress); function revealOnScroll() { const elements = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right'); elements.forEach(element => { const elementTop = element.getBoundingClientRect().top; const elementBottom = element.getBoundingClientRect().bottom; const isVisible = (elementTop < window.innerHeight - 100) && (elementBottom > 0); if (isVisible) { element.classList.add('visible'); } }); } window.addEventListener('scroll', revealOnScroll); window.addEventListener('load', revealOnScroll); function createBackToTopButton() { if (!document.querySelector('.back-to-top')) { const backToTop = document.createElement('div'); backToTop.className = 'back-to-top'; backToTop.innerHTML = '<i class="fas fa-arrow-up"></i>'; backToTop.setAttribute('aria-label', 'Back to top'); document.body.appendChild(backToTop); backToTop.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); }); } const backToTop = document.querySelector('.back-to-top'); if (window.pageYOffset > 300) { backToTop.classList.add('visible'); } else { backToTop.classList.remove('visible'); } } window.addEventListener('scroll', createBackToTopButton); window.addEventListener('load', createBackToTopButton); function initLightbox() { if (!document.querySelector('.lightbox')) { const lightbox = document.createElement('div'); lightbox.className = 'lightbox'; lightbox.innerHTML = ` <span class="lightbox-close">&times;</span> <img class="lightbox-content" src="" alt="Lightbox image"> `; document.body.appendChild(lightbox); lightbox.addEventListener('click', (e) => { if (e.target.classList.contains('lightbox') || e.target.classList.contains('lightbox-close')) { lightbox.classList.remove('active'); document.body.style.overflow = ''; } }); document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { lightbox.classList.remove('active'); document.body.style.overflow = ''; } }); } const galleryImages = document.querySelectorAll('.gallery-item img, .place-image'); galleryImages.forEach(img => { img.style.cursor = 'pointer'; img.addEventListener('click', () => { const lightbox = document.querySelector('.lightbox'); const lightboxImg = document.querySelector('.lightbox-content'); lightboxImg.src = img.src; lightboxImg.alt = img.alt || 'Gallery image'; lightbox.classList.add('active'); document.body.style.overflow = 'hidden'; }); }); } window.addEventListener('load', initLightbox); function animateCounter(element, target, duration = 2000) { let current = 0; const increment = target / (duration / 16); const updateCounter = () => { current += increment; if (current < target) { element.textContent = Math.floor(current).toLocaleString(); requestAnimationFrame(updateCounter); } else { element.textContent = target.toLocaleString(); } }; updateCounter(); } function initCounters() { const counters = document.querySelectorAll('.stat-number'); const observerOptions = { threshold: 0.5, rootMargin: '0px' }; const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting && !entry.target.classList.contains('counted')) { entry.target.classList.add('counted'); const target = parseInt(entry.target.getAttribute('data-target')); if (!isNaN(target)) { animateCounter(entry.target, target); } } }); }, observerOptions); counters.forEach(counter => observer.observe(counter)); } window.addEventListener('load', initCounters); function calculateReadingTime() { const article = document.querySelector('.city-hero-content, article, main'); if (article) { const text = article.textContent; const wordsPerMinute = 200; const wordCount = text.trim().split(/\s+/).length; const readingTime = Math.ceil(wordCount / wordsPerMinute); const readingTimeElement = document.querySelector('.reading-time'); if (readingTimeElement) { readingTimeElement.textContent = `${readingTime} min read`; } } } window.addEventListener('load', calculateReadingTime); document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { const href = this.getAttribute('href'); if (href !== '#' && href !== '#!' && document.querySelector(href)) { e.preventDefault(); const target = document.querySelector(href); const offsetTop = target.offsetTop - 80; window.scrollTo({ top: offsetTop, behavior: 'smooth' }); } }); }); function shareOnSocial(platform) { const url = encodeURIComponent(window.location.href); const title = encodeURIComponent(document.title); let shareUrl = ''; switch(platform) { case 'facebook': shareUrl = `https: break; case 'twitter': shareUrl = `https: break; case 'linkedin': shareUrl = `https: break; case 'whatsapp': shareUrl = `https: break; } if (shareUrl) { window.open(shareUrl, '_blank', 'width=600,height=400'); } } function copyToClipboard(text) { navigator.clipboard.writeText(text).then(() => { showToast('Copied to clipboard!'); }).catch(err => { console.error('Failed to copy:', err); }); } function showToast(message, duration = 3000) { const existingToast = document.querySelector('.toast-notification'); if (existingToast) { existingToast.remove(); } const toast = document.createElement('div'); toast.className = 'toast-notification'; toast.textContent = message; toast.style.cssText = ` position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 15px 30px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 10000; animation: slideUp 0.3s ease; `; document.body.appendChild(toast); setTimeout(() => { toast.style.animation = 'slideDown 0.3s ease'; setTimeout(() => toast.remove(), 300); }, duration); } const style = document.createElement('style'); style.textContent = ` @keyframes slideUp { from { transform: translateX(-50%) translateY(100px); opacity: 0; } to { transform: translateX(-50%) translateY(0); opacity: 1; } } @keyframes slideDown { from { transform: translateX(-50%) translateY(0); opacity: 1; } to { transform: translateX(-50%) translateY(100px); opacity: 0; } } `; document.head.appendChild(style); function parallaxEffect() { const hero = document.querySelector('.city-hero, .hero'); if (hero) { const scrolled = window.pageYOffset; hero.style.backgroundPositionY = scrolled * 0.5 + 'px'; } } window.addEventListener('scroll', parallaxEffect); function detectDevice() { const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent); const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768; document.body.classList.add(isMobile ? 'is-mobile' : 'is-desktop'); if (isTablet) { document.body.classList.add('is-tablet'); } } window.addEventListener('load', detectDevice); console.log('%câœ¨ Enhanced UI/UX Features Loaded!', 'font-size: 14px; color: #4facfe; font-weight: bold;');